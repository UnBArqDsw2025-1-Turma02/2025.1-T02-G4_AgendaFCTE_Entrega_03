# Artefato de Projeto ‚Äì Padr√£o Bridge

## 1. Introdu√ß√£o

Este artefato documenta a aplica√ß√£o do padr√£o de projeto **Bridge** no contexto do sistema AgendaFCTE, uma plataforma respons√°vel por centralizar e divulgar eventos institucionais atrav√©s de diversas plataformas externas, como redes sociais, calend√°rios e servi√ßos de mapas.

O desafio abordado neste m√≥dulo foi a necessidade de **publicar eventos em m√∫ltiplas plataformas de forma flex√≠vel e escal√°vel**, evitando duplica√ß√£o de c√≥digo e promovendo a separa√ß√£o de responsabilidades. Para isso, o padr√£o Bridge foi adotado, desacoplando a l√≥gica de publica√ß√£o (abstra√ß√£o) das implementa√ß√µes espec√≠ficas de cada plataforma (implementor).

Este documento detalha o racional do padr√£o, sua estrutura, implementa√ß√£o, casos de uso, exemplos reais de aplica√ß√£o e erros esperados, al√©m de destacar os principais benef√≠cios obtidos com a ado√ß√£o da arquitetura.

## 2. Metodologia

A aplica√ß√£o do padr√£o Bridge foi conduzida com base nas seguintes etapas:

1. **An√°lise do problema**: Foi identificada a necessidade de permitir a publica√ß√£o de eventos em diferentes plataformas (como redes sociais, calend√°rios e mapas) de maneira desacoplada, escal√°vel e reutiliz√°vel.
2. **Sele√ß√£o do padr√£o**: O padr√£o Bridge foi escolhido por sua capacidade de separar abstra√ß√µes das implementa√ß√µes, facilitando a manuten√ß√£o e expans√£o para novas plataformas no futuro.
3. **Modelagem UML**: A estrutura do padr√£o foi modelada com a ferramenta [draw.io](https://draw.io), permitindo uma visualiza√ß√£o clara dos relacionamentos entre abstra√ß√£o, implementadores e contexto de uso.
4. **Desenvolvimento com FastAPI**: A API foi constru√≠da utilizando o framework **FastAPI**, que oferece alto desempenho, facilidade de defini√ß√£o de rotas e integra√ß√£o com documenta√ß√£o autom√°tica (Swagger/OpenAPI).
5. **Implementa√ß√£o modular**: As classes de abstra√ß√£o (`EventPoster`) e implementa√ß√£o (`PlatformPoster`) foram criadas de forma desacoplada e extens√≠vel, seguindo boas pr√°ticas de design orientado a objetos.
6. **Valida√ß√£o via simula√ß√£o**: A valida√ß√£o funcional foi realizada com o uso do **Postman**, simulando chamadas HTTP para o endpoint da API e verificando os comportamentos esperados ‚Äî incluindo publica√ß√µes simuladas e erros controlados.
7. **Documenta√ß√£o t√©cnica**: Este artefato re√∫ne todos os elementos da solu√ß√£o ‚Äî desde a motiva√ß√£o, estrutura do padr√£o, c√≥digo-fonte, exemplos visuais e tratamento de erros ‚Äî para garantir uma compreens√£o completa do projeto.

Essa metodologia permitiu aplicar o padr√£o Bridge de forma estruturada, test√°vel e did√°tica, mesmo sem realizar publica√ß√µes reais nas plataformas externas.

## 3. Objetivo

O padr√£o **Bridge** tem como objetivo **desacoplar uma abstra√ß√£o da sua implementa√ß√£o**, permitindo que ambas evoluam de forma independente. Neste projeto, ele √© aplicado para tornar a publica√ß√£o de eventos em diversas plataformas (calend√°rios, redes sociais, mapas) flex√≠vel, extens√≠vel e com baixo acoplamento.

## 4. Estrutura do Padr√£o

### 4.1 Diagrama UML

**Quadro 1 ‚Äì Diagrama√ß√£o do Bridge**  

<center>

<a id='quad1' href="https://app.diagrams.net/#G1aQRrNPblCVjrLYUCDV5ynuhamqo_DpGA#%7B%22pageId%22%3A%22C5RBs43oDa-KdzZeNtuy%22%7D" style="text-decoration: none; color: inherit;">
    <b>Quadro 1 - Diagrama√ß√£o do Bridge</b>
</a>

<iframe frameborder="0" style="width:100%;height:453px;" src="https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=000000&layers=1&nav=1&title=Bridge.drawio&transparent=1&dark=0#Uhttps%3A%2F%2Fdrive.google.com%2Fuc%3Fid%3D1aQRrNPblCVjrLYUCDV5ynuhamqo_DpGA%26export%3Ddownload" allowtransparency="true"></iframe>

</center>

## 5. Implementa√ß√£o

### 5.1 Models e Enums  
- Representam tipos de plataformas e configura√ß√µes.  
- Auxiliam na abstra√ß√£o das plataformas de publica√ß√£o.

<center>

**Figura 1 ‚Äì Models e Enums**  

<img title="Models e Enums" 
    src="./assets/bridge/codigo/models-enums.png" 
    width='500'
/>

</center>

---

### 5.2 Bridge Implementor  
Define a **interface base** (`PlatformPoster`) e as **implementa√ß√µes concretas** para cada plataforma, como Google Calendar, Facebook, Instagram, etc.

<center>

**Figura 2 ‚Äì Bridge Implementor**  

<img title="Bridge Implementor" 
    src="./assets/bridge/codigo/bridge-implementor.png" 
    width='500'
/>

</center>

---

### 5.3 Bridge Abstraction  
Define a **abstra√ß√£o (`EventPoster`)** que usa o `PlatformPoster` para delegar a publica√ß√£o. Essa separa√ß√£o permite trocar a implementa√ß√£o de forma transparente.

<center>

**Figura 3 ‚Äì Bridge Abstraction**  

<img title="Bridge Abstraction" 
    src="./assets/bridge/codigo/bridge-abstraction.png" 
    width='500'
/>

</center>

---

### 5.4 Factories  
F√°bricas respons√°veis por retornar implementa√ß√µes espec√≠ficas de `PlatformPoster` com base no tipo e nas configura√ß√µes dispon√≠veis.

<center>

**Figura 4 ‚Äì Factories**  

<img title="Factories" 
    src="./assets/bridge/codigo/factories.png" 
    width='500'
/>

</center>

---

### 5.5 Endpoint  
Endpoint da API que consome a abstra√ß√£o e ativa o processo de postagem de um evento.

<center>

**Figura 5 ‚Äì Endpoint**  

<img title="Endpoint" 
    src="./assets/bridge/codigo/endpoint.png" 
    width='500'
/>

</center>

## 6. Casos de Uso

### Postagens realizadas com sucesso:
- **Google Calendar** ‚Äì üìÖ  
- **Outlook Calendar** ‚Äì üìÖ  
- **Facebook** ‚Äì üìò  
- **Whatsapp** ‚Äì üí¨  
- **Instagram** ‚Äì üì∏  
- **Google Maps** ‚Äì üó∫Ô∏è  

**Figuras 6 a 11 ‚Äì Exemplos de Posts**  

<center>

<a id='fig6' style="text-decoration: none; color: inherit;">
    <b>Figura 6 - Post no Google Calendar</b>
</a>

<img title="Calend√°rio - Google Calendar" 
    src="./assets/bridge/posts/post1.png" 
    width='600'
/>

<a id='fig7' style="text-decoration: none; color: inherit;">
    <b>Figura 7 - Post no Outlook Calendar</b>
</a>

<img title="Calend√°rio - Outlook" 
    src="./assets/bridge/posts/post2.png" 
    width='600'
/>

<a id='fig8' style="text-decoration: none; color: inherit;">
    <b>Figura 8 - Post no Facebook</b>
</a>

<img title="Rede Social - Facebook" 
    src="./assets/bridge/posts/post3.png" 
    width='600'
/>

<a id='fig9' style="text-decoration: none; color: inherit;">
    <b>Figura 9 - Post no Whatsapp</b>
</a>

<img title="Rede Social - Whatsapp" 
    src="./assets/bridge/posts/post4.png" 
    width='600'
/>

<a id='fig10' style="text-decoration: none; color: inherit;">
    <b>Figura 10 - Post no Instagram</b>
</a>

<img title="Rede Social - Instagram" 
    src="./assets/bridge/posts/post5.png" 
    width='600'
/>

<a id='fig11' style="text-decoration: none; color: inherit;">
    <b>Figura 11 - Post no Google Maps</b>
</a>

<img title="Mapas - Google Maps" 
    src="./assets/bridge/posts/post6.png" 
    width='600'
/>

</center>

### Erros esperados:
- Plataforma **n√£o configurada**  
- Plataforma **de outro tipo**  
- **Tipo inexistente**

**Figuras 12 a 14 ‚Äì Exemplos de erros**  
<center>

<a id='fig12' style="text-decoration: none; color: inherit;">
    <b>Figura 12 - Plataforma n√£o configurada</b>
</a>

<img title="Erro - Plataforma n√£o configurada" 
    src="./assets/bridge/posts/erro1.png" 
    width='600'
/>

<a id='fig13' style="text-decoration: none; color: inherit;">
    <b>Figura 13 - Plataforma de outro tipo</b>
</a>

<img title="Erro - Plataforma de outro tipo" 
    src="./assets/bridge/posts/erro2.png" 
    width='600'
/>

<a id='fig14' style="text-decoration: none; color: inherit;">
    <b>Figura 14 - Tipo n√£o existente</b>
</a>

<img title="Erro - Tipo n√£o existente" 
    src="./assets/bridge/posts/erro3.png" 
    width='600'
/>

</center>

## 7. Benef√≠cios Obtidos

- **Extensibilidade**: novas plataformas podem ser adicionadas sem impactar a l√≥gica da abstra√ß√£o.
- **Baixo acoplamento**: abstra√ß√£o e implementa√ß√£o evoluem separadamente.
- **Reutiliza√ß√£o**: l√≥gica de postagem centralizada e reutiliz√°vel.

## 8. Como Rodar

Para executar a API do padr√£o Bridge desenvolvida em FastAPI, siga os passos abaixo:

1. **Pr√©-requisitos**  
   - Python 3.8 ou superior instalado.  
   - Ambiente virtual recomendado para isolamento (`venv` ou similar).

2. **Instala√ß√£o das depend√™ncias**  
   Navegue at√© a pasta `codigo`:  

   ```bash
   cd '.\docs\PadroesDeProjeto\GOFsEstruturais\Bridge\codigo'
   ```

   Utilize o arquivo `requirements.txt` para instalar as bibliotecas necess√°rias:

   ```bash
   pip install -r requirements.txt
   ```

3. **Executando a aplica√ß√£o**
    Na pasta onde est√° o arquivo main.py, execute:

    ```bash
    python main.py
    ```

    Isso iniciar√° o servidor localmente, em http://localhost:8000.

4. **Testes com Postman**

    - Utilize o Postman para enviar requisi√ß√µes HTTP ao endpoint `/integrar` com o m√©todo POST.

    - Configure o corpo da requisi√ß√£o no formato JSON conforme o modelo definido (exemplo abaixo):

    ```json
    {
    "tipo": "calendario",
    "plataforma": "google",
    "evento": {
        "titulo": "Aula Inaugural",
        "data": "2025-05-24T19:00:00",
        "local": "Audit√≥rio FCTE",
        "descricao": "Evento de abertura do semestre"
        }
    }
    ```

    - A resposta dever√° indicar sucesso ou falha na simula√ß√£o da publica√ß√£o.

5. **Arquivos do projeto**

    Os arquivos-fonte, incluindo `main.py` e `requirements.txt`, podem ser encontrados no reposit√≥rio dispon√≠vel em:

    [docs/PadroesDeProjeto/Bridge/codigo](https://github.com/UnBArqDsw2025-1-Turma02/2025.1-T02-G4_AgendaFCTE_Entrega_03/tree/main/docs/PadroesDeProjeto/gofsEstruturais/Bridge/codigo)

## 9. Bibliografia

> REFACTORING GURU. Bridge ‚Äì Padr√µes de Projeto. Dispon√≠vel em: https://refactoring.guru/pt-br/design-patterns/bridge. Acesso em: 22 maio 2025.
>
> SERRANO, Milene. Padr√µes de Projeto GoF: Padr√µes Estruturais. Material did√°tico disponibilizado no ambiente virtual Aprender3 da Universidade de Bras√≠lia, 2025.
>
> SERRANO, Milene. Padr√µes de Projeto GoF: Padr√µes Estruturais ‚Äì Parte 2. Material did√°tico disponibilizado no ambiente virtual Aprender3 da Universidade de Bras√≠lia, 2025.
>
> FASTAPI. FastAPI Documentation. Dispon√≠vel em: https://fastapi.tiangolo.com. Acesso em: 22 maio 2025.
>
> POSTMAN. Postman API Platform. Dispon√≠vel em: https://www.postman.com. Acesso em: 22 maio 2025.

## 10. Hist√≥rico de Vers√µes

| Vers√£o | Data       | Descri√ß√£o                                    | Autor                                  | Revisor | Coment√°rio do Revisor |
|--------|------------|----------------------------------------------|----------------------------------------|---------|------------------------|
| `1.0`    | 22/05/2025 | Diagrama√ß√£o do Bridge                        | [V√≠ctor Schmidt](https://github.com/moonshinerd) | ‚Äî       | ‚Äî                      |
| `1.1`    | 23/05/2025 | Adi√ß√£o de c√≥digo, imagens e explica√ß√µes      | [V√≠ctor Schmidt](https://github.com/moonshinerd) | ‚Äî       | ‚Äî                      |
| `1.2`    | 23/05/2025 | Adi√ß√£o de introdu√ß√£o, metodologia e objetivo do artefato      | [Thales Euflauzino](https://github.com/thaleseuflauzino) | ‚Äî       | - |
| `1.3`    | 23/05/2025 | Adi√ß√£o texto para conex√£o das imagens | [Thales Euflauzino](https://github.com/thaleseuflauzino) | ‚Äî       | ‚Äî                      |
| `1.4`    | 24/05/2025 | Adi√ß√£o de como executar | [Thales Euflauzino](https://github.com/thaleseuflauzino) | ‚Äî       | ‚Äî                      |
| `1.5`    | 24/05/2025 | Adi√ß√£o da bibliografia | [Thales Euflauzino](https://github.com/thaleseuflauzino) | ‚Äî       | ‚Äî                      |
